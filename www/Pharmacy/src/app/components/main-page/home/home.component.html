<app-header></app-header>
<div class="container">


  <div class="row">
    <div id="carouselExampleControlsNoTouching" class="px-0 carousel slide carousel-fade" data-bs-touch="false"
      data-bs-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img
            src="https://media.istockphoto.com/photos/good-book-can-do-the-world-of-good-picture-id1257761640?k=20&m=1257761640&s=612x612&w=0&h=g4uD83X0qNVO7YNagIA1IyBLT1w0pBCwfFifie4_L-E="
            class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item">
          <img
            src="https://media.istockphoto.com/photos/man-reading-a-book-on-the-couch-picture-id513491328?k=20&m=513491328&s=612x612&w=0&h=zDtNhm55EqgEWUuI9rblW3mCJVPgaqSwbd0lY6xtEpY="
            class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item">
          <img
            src="https://media.istockphoto.com/photos/portrait-of-pretty-nice-handsome-entrepreneur-hold-hand-touch-chin-picture-id1157094381?k=20&m=1157094381&s=612x612&w=0&h=epHHK6tmqY15NHK-YNbYsN8Hf7Za88nVmkRJB78ljDE="
            class="d-block w-100" alt="...">
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControlsNoTouching"
        data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControlsNoTouching"
        data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>
  <!-- end of carousel container -->
</div>



<div class="container mt-5">
  <input type="search" [(ngModel)]="title" (input)="Search()" class="form-control rounded"
    placeholder="البحث عن منتجات...." aria-label="Search" aria-describedby="search-addon" />
  <div class="container">
    <div class="row" *ngIf="responseGet">
      <div class="col-12 col-lg-4">
        <app-sidebar></app-sidebar>
      </div>

      <div class="col">
        <div class="row g-3">
          <div class="col-12 col-lg-4" *ngFor="let book of pageOfItems">
            <div class="card text-center">
              <a>
                <img src="http://localhost:8080/api/books/{{ book._id }}/avatar" (click)="goToDetails(book._id)" />
              </a>
              <div class="card-body">
                <h3>المؤلف : {{ book.author }}</h3>
                <h5 class="card-title">
                  <!-- maxLength: 22:"....." -->
                  {{ book.title }}
                </h5>
                <span class="badge fs-5 rounded-pill bg-primary" id="price">
                  {{ book.price }} جنيه
                </span>

                <!-- <div class="price">
                  <h5>{{ book.price }}</h5>
                </div> -->
                <!-- (input)="stars(book)" -->

                <div class="rateing">
                  <!-- <div class="hidden">
                    {{ getCarruntRate(book.rate) }}
                  </div> -->
                  <p hidden>
                    {{ getCarruntRate(book.rate) }}
                  </p>

                  <button mat-icon-button class="btn text-warning" *ngFor="let r of ratingArr; index as i">
                    <mat-icon>
                      {{ returnStar(i) }}
                    </mat-icon>
                  </button>
                </div>

                <button type="button" id="addCart" class="btn btn-danger btn" (click)="addToCart(book)">
                  الاضافة الي العربة
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="card-footer pb-0 pt-3">
          <jw-pagination [items]="books" (changePage)="onChangePage($event)"></jw-pagination>
        </div>
      </div>
    </div>
  </div>

  <app-footer></app-footer>
